import{j as e,m as d}from"./vendor-react-dE8-2NoN.js";import{r as o,a2 as y,A as m,t as f,L as b,ai as h}from"./vendor-ui-Bq2TQ6SB.js";import{u as v,a}from"./index-C0_HeUlG.js";import{r as j,y as w,l as S}from"./vendor-firebase-25KR_2Xm.js";import"./vendor-charts-B_b_m-Bk.js";function I(){const{user:u}=v(),[i,c]=o.useState(!1),[s,n]=o.useState(""),[t,l]=o.useState(0);o.useEffect(()=>{if(t>0){const r=setTimeout(()=>l(t-1),1e3);return()=>clearTimeout(r)}},[t]);const g=async()=>{if(!(t>0||!a.currentUser)){c(!0),n("");try{await j(a.currentUser),n("Verification email sent! Please check your inbox."),l(60)}catch(r){console.error(r),r.code==="auth/too-many-requests"?(n("Too many requests. Please wait a bit."),l(60)):n("Failed to send email. Try again later.")}finally{c(!1)}}},p=async()=>{a.currentUser&&(await w(a.currentUser),window.location.reload())},x=()=>{S(a).catch(console.error)};return e.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--gradient-bg)",position:"relative",padding:20},children:[e.jsx("div",{className:"mesh-background",style:{position:"absolute",inset:0,zIndex:0,opacity:.4}}),e.jsxs(d.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%",maxWidth:480,background:"rgba(12, 12, 20, 0.7)",backdropFilter:"blur(20px)",border:"1px solid var(--border-medium)",borderRadius:24,padding:40,position:"relative",zIndex:1,boxShadow:"0 24px 64px rgba(0,0,0,0.5)",textAlign:"center"},children:[e.jsx("div",{style:{width:80,height:80,background:"rgba(124, 108, 240, 0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 0 32px rgba(124, 108, 240, 0.2)"},children:e.jsx(y,{size:40,color:"var(--accent-primary)"})}),e.jsx("h1",{style:{fontSize:28,fontWeight:800,marginBottom:12},children:"Verify Your Email"}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:32,lineHeight:1.6},children:["We've sent a verification link to",e.jsx("br",{}),e.jsx("strong",{style:{color:"var(--text-primary)"},children:u?.email})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("button",{onClick:g,disabled:i||t>0,className:"btn",style:{background:"var(--gradient-primary)",color:"white",padding:"14px",borderRadius:12,fontWeight:600,border:"none",cursor:i||t>0?"not-allowed":"pointer",opacity:i||t>0?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[i?"Sending...":t>0?`Resend in ${t}s`:"Resend Verification Email",!i&&t===0&&e.jsx(m,{size:18})]}),e.jsxs("button",{onClick:p,className:"btn",style:{background:"rgba(255, 255, 255, 0.05)",color:"var(--text-primary)",padding:"14px",borderRadius:12,fontWeight:600,border:"1px solid var(--border-subtle)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[e.jsx(f,{size:18}),"I've Verified My Email"]})]}),s&&e.jsx(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{marginTop:24,fontSize:13,color:s.includes("sent")?"var(--accent-success)":"var(--accent-danger)"},children:s}),e.jsx("div",{style:{marginTop:32,paddingTop:24,borderTop:"1px solid var(--border-subtle)"},children:e.jsxs("button",{onClick:x,style:{background:"none",border:"none",color:"var(--text-tertiary)",fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",gap:8,margin:"0 auto"},onMouseOver:r=>r.currentTarget.style.color="var(--text-secondary)",onMouseOut:r=>r.currentTarget.style.color="var(--text-tertiary)",children:[e.jsx(b,{size:16})," Sign Out"]})}),e.jsxs("div",{style:{marginTop:24,display:"flex",alignItems:"center",justifyContent:"center",gap:6,fontSize:12,color:"var(--text-tertiary)"},children:[e.jsx(h,{size:12})," Secure Access Required"]})]})]})}export{I as default};
