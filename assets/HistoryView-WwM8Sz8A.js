import{j as e,A as g,m as o}from"./vendor-react-dE8-2NoN.js";import{r as c,K as p,N as y,C as m}from"./vendor-ui-Bq2TQ6SB.js";import{u as v}from"./index-C0_HeUlG.js";import"./vendor-charts-B_b_m-Bk.js";import"./vendor-firebase-25KR_2Xm.js";function S(){const{getWeeklyHistory:t,instances:l}=v(),[r,i]=c.useState(0),s=3,a=c.useMemo(()=>t(),[t,l]),h=a.slice(r*s,(r+1)*s),d=Math.ceil(a.length/s);return a.length===0?e.jsxs("div",{className:"page-content",style:{textAlign:"center",paddingTop:100},children:[e.jsx("div",{style:{fontSize:48,marginBottom:20},children:"ðŸ“œ"}),e.jsx("h2",{children:"No History Yet"}),e.jsx("p",{style:{color:"var(--text-tertiary)"},children:"Complete tasks to start building your productivity history."})]}):e.jsxs("div",{className:"page-content",children:[e.jsxs("div",{className:"view-header",style:{marginBottom:40},children:[e.jsxs("div",{className:"view-header-content",children:[e.jsx("h2",{className:"view-title",children:"Productivity History"}),e.jsx("p",{className:"view-subtitle",children:"Review your weekly performance and patterns"})]}),e.jsxs("div",{className:"view-header-actions",style:{display:"flex",gap:12},children:[e.jsx("button",{className:"btn btn-secondary",disabled:r===0,onClick:()=>i(n=>Math.max(0,n-1)),style:{padding:"8px 12px"},children:e.jsx(p,{size:18})}),e.jsx("button",{className:"btn btn-secondary",disabled:r>=d-1,onClick:()=>i(n=>Math.min(d-1,n+1)),style:{padding:"8px 12px"},children:e.jsx(y,{size:18})})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:32},children:e.jsx(g,{mode:"wait",children:h.map((n,x)=>e.jsx(b,{week:n,index:x},n.weekStart))})}),a.length>s&&e.jsxs("div",{style:{marginTop:40,textAlign:"center",color:"var(--text-tertiary)",fontSize:13},children:["Showing ",r*s+1,"-",Math.min((r+1)*s,a.length)," of ",a.length," weeks"]})]})}function b({week:t,index:l}){const r=Math.max(...t.dailyBreakdown.map(i=>i.completed),1);return e.jsx(o.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:l*.1},className:"card",style:{padding:24,background:"rgba(12, 12, 20, 0.6)",border:"1px solid var(--border-medium)",borderRadius:24,backdropFilter:"blur(20px)",position:"relative",overflow:"hidden"},children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:32,alignItems:"center"},children:[e.jsxs("div",{style:{flex:"1 1 300px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:16},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:12,background:"rgba(124, 108, 240, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(m,{size:20,color:"var(--accent-primary)"})}),e.jsx("h3",{style:{fontSize:20,fontWeight:800},children:t.weekLabel})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:16,marginBottom:20},children:[e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:12,borderRadius:16,border:"1px solid var(--border-subtle)"},children:[e.jsx("div",{style:{fontSize:10,color:"var(--text-tertiary)",marginBottom:4},children:"TOTAL TASKS"}),e.jsx("div",{style:{fontSize:20,fontWeight:800},children:t.totalTasks})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:12,borderRadius:16,border:"1px solid var(--border-subtle)"},children:[e.jsx("div",{style:{fontSize:10,color:"var(--text-tertiary)",marginBottom:4},children:"COMPLETED"}),e.jsx("div",{style:{fontSize:20,fontWeight:800,color:"var(--accent-success)"},children:t.completedTasks})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:12,borderRadius:16,border:"1px solid var(--border-subtle)"},children:[e.jsx("div",{style:{fontSize:10,color:"var(--text-tertiary)",marginBottom:4},children:"JOURNAL"}),e.jsxs("div",{style:{fontSize:20,fontWeight:800,color:"var(--accent-info)"},children:[t.journalConsistency,"%"]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{flex:1,height:8,background:"rgba(255,255,255,0.05)",borderRadius:4,overflow:"hidden"},children:e.jsx(o.div,{initial:{width:0},animate:{width:`${t.progressPercentage}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:"var(--gradient-primary)",borderRadius:4}})}),e.jsxs("span",{style:{fontSize:18,fontWeight:800,minWidth:50,textAlign:"right"},children:[t.progressPercentage,"%"]})]})]}),e.jsxs("div",{style:{flex:"1 1 300px",height:180,position:"relative"},children:[e.jsx("div",{style:{display:"flex",height:"100%",alignItems:"flex-end",justifyContent:"space-between",gap:8,paddingBottom:24},children:t.dailyBreakdown.map(i=>{const s=i.completed===r&&i.completed>0;return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[e.jsx("div",{style:{width:"100%",height:120,background:"rgba(255,255,255,0.02)",borderRadius:8,position:"relative",overflow:"hidden"},children:e.jsx(o.div,{initial:{height:0},animate:{height:`${i.ratio*100}%`},transition:{duration:1,ease:"backOut"},style:{position:"absolute",bottom:0,left:0,right:0,background:s?"#ff5252":"rgba(255,255,255,0.2)",borderRadius:4,boxShadow:s?"0 0 15px rgba(255, 82, 82, 0.3)":"none"}})}),e.jsx("span",{style:{fontSize:10,fontWeight:700,color:"var(--text-tertiary)"},children:i.label})]},i.date)})}),e.jsxs("div",{style:{position:"absolute",bottom:0,left:0,display:"flex",gap:12},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:10},children:[e.jsx("div",{style:{width:8,height:8,borderRadius:2,background:"#ff5252"}}),e.jsx("span",{style:{color:"var(--text-tertiary)"},children:"Highest"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:10},children:[e.jsx("div",{style:{width:8,height:8,borderRadius:2,background:"rgba(255,255,255,0.2)"}}),e.jsx("span",{style:{color:"var(--text-tertiary)"},children:"Average/Low"})]})]})]})]})})}export{S as default};
