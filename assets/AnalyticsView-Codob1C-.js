import{j as t,m as s}from"./vendor-react-dE8-2NoN.js";import{u as L}from"./index-C0_HeUlG.js";import{R as d,B as v,X as k,Y as S,T as y,b,P as T,c as $,C,d as B,e as K,f as Y,g as D,h as N}from"./vendor-charts-B_b_m-Bk.js";import{_ as I}from"./vendor-ui-Bq2TQ6SB.js";import"./vendor-firebase-25KR_2Xm.js";function _(){const{tasks:i,profile:o,getWeeklyCompletionData:w,getCategoryStats:z,getProductivityScore:P}=L(),h=w(),R=z(),x=i.length,A=i.filter(e=>e.isCompleted).length,l=x?Math.round(A/x*100):0,g=P(),n=[{name:"Daily",value:i.filter(e=>e.horizon==="daily").length,color:"#7c6cf0"},{name:"Monthly",value:i.filter(e=>e.horizon==="monthly").length,color:"#00d4cf"},{name:"Yearly",value:i.filter(e=>e.horizon==="yearly").length,color:"#f97fbe"}].filter(e=>e.value>0),p=[{name:"Critical",value:i.filter(e=>e.priority==="critical").length,color:"#ff6b6b"},{name:"High",value:i.filter(e=>e.priority==="high").length,color:"#ffc857"},{name:"Medium",value:i.filter(e=>e.priority==="medium").length,color:"#00d4cf"},{name:"Low",value:i.filter(e=>e.priority==="low").length,color:"#00d68f"}].filter(e=>e.value>0),u=R.map(e=>({subject:e.category,completed:e.completed,total:e.total,rate:e.total?Math.round(e.completed/e.total*100):0})),r=[],c=h.reduce((e,a)=>a.completed>e.completed?a:e,h[0]);c&&c.completed>0&&r.push({icon:"ğŸ“Š",text:`You're most productive on <strong>${c.day}s</strong> with ${c.completed} tasks completed.`,color:"var(--accent-primary)"}),o.currentStreak>3&&r.push({icon:"ğŸ”¥",text:`You're on a <strong>${o.currentStreak}-day streak</strong>! Keep going to hit ${o.currentStreak<7?7:o.currentStreak<30?30:100} days.`,color:"var(--accent-warning)"}),l>70?r.push({icon:"â­",text:`Your <strong>${l}% completion rate</strong> is excellent! You're in the top tier of productivity.`,color:"var(--accent-success)"}):l>0&&r.push({icon:"ğŸ’¡",text:`Your completion rate is <strong>${l}%</strong>. Try breaking large tasks into smaller ones for better follow-through.`,color:"var(--accent-secondary)"});const j=i.filter(e=>(e.priority==="high"||e.priority==="critical")&&e.isCompleted).length,m=i.filter(e=>e.priority==="high"||e.priority==="critical").length;m>0&&r.push({icon:"ğŸ¯",text:`You've completed <strong>${j}/${m}</strong> high-priority tasks. ${j===m?"Perfect focus!":"Prioritize what matters most."}`,color:"var(--accent-tertiary)"}),g>=80&&r.push({icon:"ğŸš€",text:`Your productivity score is <strong>${g}%</strong>. Outstanding performance! Keep this momentum going.`,color:"var(--accent-success)"});const f={background:"rgba(14,14,26,0.95)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,color:"#f0f0f8"};return t.jsxs("div",{className:"page-content",children:[t.jsx("h2",{style:{fontSize:28,fontWeight:900,marginBottom:4,letterSpacing:"-0.5px"},children:"Analytics"}),t.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:14,marginBottom:32},children:"Understand your productivity patterns"}),t.jsxs("div",{className:"analytics-grid",children:[t.jsxs(s.div,{className:"chart-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:t.jsx("div",{className:"chart-title",style:{marginBottom:0},children:"Weekly Activity"})}),t.jsx(d,{width:"100%",height:220,children:t.jsxs(v,{data:h,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"barGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#7c6cf0",stopOpacity:1}),t.jsx("stop",{offset:"100%",stopColor:"#7c6cf0",stopOpacity:.4})]})}),t.jsx(k,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#5e5e80",fontSize:10}}),t.jsx(S,{axisLine:!1,tickLine:!1,tick:{fill:"#5e5e80",fontSize:12}}),t.jsx(y,{contentStyle:{background:"rgba(14,14,26,0.95)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,color:"#f0f0f8"},itemStyle:{color:"#f0f0f8"},cursor:{fill:"rgba(255,255,255,0.05)"}}),t.jsx(b,{dataKey:"completed",fill:"url(#barGrad)",radius:[6,6,0,0]})]})})]}),t.jsxs(s.div,{className:"chart-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[t.jsx("div",{className:"chart-title",children:"Task Horizons"}),n.length>0?t.jsx(d,{width:"100%",height:220,children:t.jsxs(T,{children:[t.jsx($,{data:n,cx:"50%",cy:"50%",innerRadius:50,outerRadius:85,paddingAngle:4,dataKey:"value",children:n.map((e,a)=>t.jsx(C,{fill:e.color,stroke:"transparent"},a))}),t.jsx(y,{contentStyle:f,itemStyle:{color:"#f0f0f8"}})]})}):t.jsxs("div",{style:{height:220,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",flexDirection:"column",gap:8},children:[t.jsx("span",{style:{fontSize:32},children:"ğŸ“Š"}),t.jsx("span",{children:"No tasks yet"})]}),t.jsx("div",{style:{display:"flex",justifyContent:"center",gap:16,marginTop:8},children:n.map(e=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12},children:[t.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:e.color,boxShadow:`0 0 8px ${e.color}40`}}),t.jsxs("span",{style:{color:"var(--text-secondary)"},children:[e.name,": ",e.value]})]},e.name))})]}),u.length>0&&t.jsxs(s.div,{className:"chart-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[t.jsx("div",{className:"chart-title",children:"Category Performance"}),t.jsx(d,{width:"100%",height:250,children:t.jsxs(B,{data:u,children:[t.jsx(K,{stroke:"rgba(255,255,255,0.04)"}),t.jsx(Y,{dataKey:"subject",tick:{fill:"#9898b8",fontSize:11}}),t.jsx(D,{tick:!1,axisLine:!1}),t.jsx(N,{name:"Completed",dataKey:"completed",stroke:"#7c6cf0",fill:"#7c6cf0",fillOpacity:.25,strokeWidth:2}),t.jsx(N,{name:"Total",dataKey:"total",stroke:"#00d4cf",fill:"#00d4cf",fillOpacity:.08,strokeWidth:1.5}),t.jsx(y,{contentStyle:f,itemStyle:{color:"#f0f0f8"}})]})})]}),p.length>0&&t.jsxs(s.div,{className:"chart-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[t.jsx("div",{className:"chart-title",children:"Priority Breakdown"}),t.jsx(d,{width:"100%",height:250,children:t.jsxs(v,{data:p,layout:"vertical",children:[t.jsx(k,{type:"number",axisLine:!1,tickLine:!1,tick:{fill:"#5e5e80",fontSize:12}}),t.jsx(S,{type:"category",dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9898b8",fontSize:12},width:70}),t.jsx(y,{contentStyle:f,itemStyle:{color:"#f0f0f8"},cursor:{fill:"rgba(255,255,255,0.05)"}}),t.jsx(b,{dataKey:"value",radius:[0,6,6,0],children:p.map((e,a)=>t.jsx(C,{fill:e.color},a))})]})})]}),r.length>0&&t.jsxs(s.div,{className:"analytics-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[t.jsxs("h3",{style:{fontSize:18,fontWeight:800,marginBottom:16,display:"flex",alignItems:"center",gap:10},children:[t.jsx(I,{size:20,style:{color:"var(--accent-primary)"}}),"AI Insights"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:12},children:r.map((e,a)=>t.jsxs(s.div,{className:"insight-card",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.8+a*.08},whileHover:{y:-2},children:[t.jsx("div",{className:"insight-icon",children:e.icon}),t.jsx("div",{className:"insight-text",dangerouslySetInnerHTML:{__html:e.text}})]},a))})]})]}),i.length===0&&t.jsxs(s.div,{className:"empty-state",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[t.jsx(s.div,{className:"empty-state-icon",animate:{y:[0,-8,0]},transition:{duration:3,repeat:1/0},children:"ğŸ“Š"}),t.jsx("div",{className:"empty-state-title",children:"No data yet"}),t.jsx("div",{className:"empty-state-text",children:"Complete some tasks to see your productivity analytics and AI-powered insights."})]})]})}export{_ as default};
